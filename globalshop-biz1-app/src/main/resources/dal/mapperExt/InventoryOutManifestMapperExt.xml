<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wangqin.mapper.InventoryOutMapper">
<!-- 通用查询结果列-->
    <sql id="Base_Column_List">
    	T1.id AS id,T1.warehouse_id AS warehouseId ,T1.warehouse_name AS warehouseName,T1.inv_out_no AS invOutNo,T1.status AS status,T1.remark AS remark,T1.user_create AS userCreate,T1.user_modify AS userModify,T1.gmt_create AS gmtCreate,T1.gmt_modify AS gmtModify
    </sql>

	<select id="queryInventoryOutCount" resultType="java.lang.Integer"  parameterType="com.wangqin.vo.InventoryOutVO">
        SELECT 
        	count(1) 
        FROM 
            inventory_out T1 
        where 
     		  1=1 
     		<if test="warehouseId != null">
        			and warehouse_id = #{warehouseId}	
        	</if>
            <if test=" invOutNo != null and invOutNo != '' ">
                and T1.inv_out_no = #{invOutNo}
            </if>
            <if test=" startGmt!= null ">
             and   <![CDATA[  T1.gmt_create >= #{startGmt} ]]>
            </if>
            <if test=" endGmt != null ">
            and    <![CDATA[  T1.gmt_create <= #{endGmt} ]]>
            </if>
    </select>
    
    <select id="queryInventoryOutList" resultType="com.wangqin.model.InventoryOut" parameterType="com.wangqin.vo.InventoryOutVO">
        SELECT 
        	 <include refid="Base_Column_List" /> 
        FROM 
            inventory_out T1 
        where 
           1=1 
           	<if test="warehouseId != null">
        			and warehouse_id = #{warehouseId}	
        	</if>
             <if test=" invOutNo != null and invOutNo != '' ">
                and T1.inv_out_no = #{invOutNo}
            </if>
            <if test=" startGmt!= null ">
             and   <![CDATA[  T1.gmt_create >= #{startGmt} ]]>
            </if>
            <if test=" endGmt != null ">
            and    <![CDATA[  T1.gmt_create <= #{endGmt} ]]>
            </if>
          order by T1.id desc
          	<![CDATA[ LIMIT #{firstStart},#{pageSize} ]]>
            
    </select>
  
</mapper>